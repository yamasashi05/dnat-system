# DNAT Equipment Management System
## à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ

```
dnat-system/
â”œâ”€â”€ database/
â”‚   â””â”€â”€ schema.sql          â† SQL à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ MySQL
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.js           â† Express.js API
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ .env.example        â† copy à¹€à¸›à¹‡à¸™ .env à¹à¸¥à¹‰à¸§à¸à¸£à¸­à¸ password
â”‚   â””â”€â”€ uploads/
â”‚       â””â”€â”€ equipment/      â† à¸£à¸¹à¸›à¸ à¸²à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸°à¸–à¸¹à¸à¹€à¸à¹‡à¸šà¸—à¸µà¹ˆà¸™à¸µà¹ˆ
â””â”€â”€ frontend/
    â””â”€â”€ src/
        â””â”€â”€ App.jsx         â† React Component
```

---

## ğŸš€ à¸§à¸´à¸˜à¸µà¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ (à¸—à¸³à¸—à¸µà¸¥à¸°à¸‚à¸±à¹‰à¸™)

### à¸‚à¸±à¹‰à¸™ 1: à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ MySQL
```bash
mysql -u root -p < database/schema.sql
```

### à¸‚à¸±à¹‰à¸™ 2: à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Backend
```bash
cd backend
cp .env.example .env
# à¹à¸à¹‰ .env à¹ƒà¸ªà¹ˆ password MySQL à¸‚à¸­à¸‡à¸„à¸¸à¸“

npm install
npm start
# API à¸ˆà¸°à¸£à¸±à¸™à¸—à¸µà¹ˆ http://localhost:4000
```

### à¸‚à¸±à¹‰à¸™ 3: à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Frontend (React + Vite)
```bash
# à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸à¸•à¹Œ Vite
npm create vite@latest frontend -- --template react
cd frontend
npm install

# copy App.jsx à¹„à¸›à¸§à¸²à¸‡à¹ƒà¸™ src/
# à¹à¸¥à¹‰à¸§à¸£à¸±à¸™
npm run dev
# à¹€à¸›à¸´à¸” http://localhost:5173
```

---

## ğŸ“¸ à¸§à¸´à¸˜à¸µà¹ƒà¸ªà¹ˆà¸£à¸¹à¸›à¸ à¸²à¸à¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

### à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 1: à¸œà¹ˆà¸²à¸™ UI (à¹à¸™à¸°à¸™à¸³)
1. à¹€à¸›à¸´à¸” Dashboard
2. à¸„à¸¥à¸´à¸ "à¹€à¸à¸´à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ" à¸«à¸£à¸·à¸­ "à¹à¸à¹‰à¹„à¸‚"
3. à¸¡à¸µà¸›à¸¸à¹ˆà¸¡ "à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›à¸ à¸²à¸" à¹ƒà¸«à¹‰à¸à¸” â†’ à¹€à¸¥à¸·à¸­à¸à¸£à¸¹à¸›à¹„à¸”à¹‰à¹€à¸¥à¸¢
4. à¸£à¸¹à¸›à¸ˆà¸°à¸–à¸¹à¸à¹€à¸à¹‡à¸šà¸—à¸µà¹ˆ `backend/uploads/equipment/`
5. MySQL à¸ˆà¸°à¸šà¸±à¸™à¸—à¸¶à¸ path à¹„à¸§à¹‰à¹ƒà¸™ column `image_path`

### à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 2: à¸œà¹ˆà¸²à¸™ API à¹‚à¸”à¸¢à¸•à¸£à¸‡ (Postman / curl)
```bash
# à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸£à¸¹à¸›à¹ƒà¸«à¹‰à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ ID = 1
curl -X POST http://localhost:4000/equipment/1/image \
  -F "image=@/path/to/photo.jpg"
```

### à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 3: à¹€à¸à¹‡à¸šà¸£à¸¹à¸›à¹€à¸›à¹‡à¸™ Binary à¹ƒà¸™ MySQL à¹‚à¸”à¸¢à¸•à¸£à¸‡
```bash
# à¸£à¸¹à¸›à¸ˆà¸°à¸–à¸¹à¸à¹€à¸à¹‡à¸šà¹ƒà¸™ column image_data (MEDIUMBLOB)
curl -X POST http://localhost:4000/equipment/1/image-binary \
  -F "image=@/path/to/photo.jpg"

# à¸”à¸¶à¸‡à¸£à¸¹à¸›à¸­à¸­à¸à¸¡à¸²à¹à¸ªà¸”à¸‡:
# http://localhost:4000/equipment/1/image-binary
```

### à¸•à¸²à¸£à¸²à¸‡: à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¸§à¸´à¸˜à¸µà¹€à¸à¹‡à¸šà¸£à¸¹à¸›
| | à¸§à¸´à¸˜à¸µ 1: File (image_path) | à¸§à¸´à¸˜à¸µ 3: Binary (image_data) |
|---|---|---|
| à¸„à¸§à¸²à¸¡à¹€à¸£à¹‡à¸§ | âš¡ à¹€à¸£à¹‡à¸§à¸à¸§à¹ˆà¸² | ğŸ¢ à¸Šà¹‰à¸²à¸à¸§à¹ˆà¸²à¹€à¸¥à¹‡à¸à¸™à¹‰à¸­à¸¢ |
| DB à¸‚à¸™à¸²à¸” | à¹€à¸¥à¹‡à¸ | à¹ƒà¸«à¸à¹ˆà¸‚à¸¶à¹‰à¸™ |
| Backup | à¸•à¹‰à¸­à¸‡ backup à¸—à¸±à¹‰à¸‡ DB + folder | backup DB à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸”à¸µà¸¢à¸§ |
| à¹à¸™à¸°à¸™à¸³à¹€à¸¡à¸·à¹ˆà¸­ | à¸‡à¸²à¸™à¸›à¸à¸•à¸´à¸—à¸±à¹ˆà¸§à¹„à¸› | à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ all-in-one |

---

## ğŸ”Œ API Endpoints

| Method | Path | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ |
|--------|------|---------|
| GET | /equipment | à¸£à¸²à¸¢à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ (?q=, ?status=, ?team=) |
| GET | /equipment/stats | à¸•à¸±à¸§à¹€à¸¥à¸‚ KPI |
| POST | /equipment | à¹€à¸à¸´à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ |
| PUT | /equipment/:id | à¹à¸à¹‰à¹„à¸‚à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ |
| DELETE | /equipment/:id | à¸¥à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ |
| POST | /equipment/:id/image | à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸£à¸¹à¸› (file) |
| POST | /equipment/:id/image-binary | à¸­à¸±à¸›à¹‚à¸«à¸¥à¸”à¸£à¸¹à¸› (binary DB) |
| GET | /equipment/:id/image-binary | à¸”à¸¶à¸‡à¸£à¸¹à¸›à¸ˆà¸²à¸ DB |
| GET | /history | à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¹€à¸šà¸´à¸-à¸„à¸·à¸™ |
| POST | /history | à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¹€à¸šà¸´à¸ |
| PATCH | /history/:id/return | à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸„à¸·à¸™ |
| POST | /auth/login | Login |
